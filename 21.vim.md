- [移动](#移动)
- [查找](#查找)
- [文本修改](#文本修改)
- [其他](#其他)
- [批量操作](#批量操作)
- [vim环境Shell脚本](#vim环境shell脚本)
- [保存不退出](#保存不退出)
- [设置快捷键](#设置快捷键)
- [vim目录访问](#vim目录访问)
- [.vimrc](#vimrc)




命令模式

# 移动

| 指令  | 含义            |
| ----- | --------------- |
| $     | 行尾            |
| ^     | 非空行首        |
| 0     | 行首            |
| (N) w | 向前跳过N个单词 |
| (N) b | 向后跳过N个单词 |
| {     | 快速向后移动    |
| }     | 快速向前移动    |

# 查找

| 指令             | 含义                                    |
| ---------------- | --------------------------------------- |
| /[word]  -  回车 | 查找字符word  n-重复先前查找 N-向后查找 |

# 文本修改

| 指令   | 含义                          |
| ------ | ----------------------------- |
| dd     | 删除当前行                    |
| (N) dd | 删除当前行在内往后的N行       |
| D      | 删除光标至行末                |
| yy     | 复制-抽出当前行到寄存器       |
| (N) yy | 复制N行-抽出这N行到寄存器     |
| p      | 粘贴-在光标后面放置寄存器内容 |

# 其他

| 指令 | 含义                                |
| ---- | ----------------------------------- |
| .    | 重复最近一次改动                    |
| O    | 大写o跳转列表，回到上一个编辑的位置 |

# 批量操作

批量操作-可视化块模块

进入可视化块模块：Ctrl+v

可视化模块下选中区域：h j k l或者箭头键扩展选择矩形区域

选中后并不想进行各种操作，直接两次ESC或者Ctrl+C即可



1、多行末尾添加相同内容

选中多行情况下移动光标到行尾：$

进入插入模式：A（大写的A）-表示在块的右侧边界之后插入

在插入模式下输入需要的相同的信息，然后ESC退出即可

Ctrl+V - 选中区域 - Shift+4, a - 输入信息 - ESC



2、多行行首添加相同内容

选中多行情况下，进入插入模式：I（大写i），输入所需要的信息 ESC即可



3、多行删除选定块中的内容

Ctrl+v，选中所需要删除的块

按x或者d即可，选中的矩形区域会被删除

选中某几行所有内容：Ctrl+v - 向下选中所需行 - $ - x即可



# vim环境Shell脚本

:!{command}

执行得到输出后Enter回到vim



需要与Shell进行交互，而不是执行单次指令`:shell`

此时vim会暂停，在当前窗口中打开一个新的完整的Shell会话，执行完成后exit或者Ctrl+d即可回到vim

# 保存不退出

:w

:w filename - 将当前缓冲区中的内容保存为一个新文件，而不覆盖当前文件



# 设置快捷键

:w - 设置为Ctrl+S

`nnoremap <C-s> :w<CR>`

具体看手册在学习

https://yianwillis.github.io/vimcdoc/doc/map.html#map.txt

# vim目录访问

光标放到目录中的子目录时，Enter进入子目录

在子目录中，-（减号）回到父目录

# .vimrc

.vimrc里面的语法是Vimscript 脚本语言

支持的所有options可以看这里面：

https://yianwillis.github.io/vimcdoc/doc/options.html#:options



# vim查找高级

fzf.vim插件工具

```vimscripty
call plug#begin('~/.vim/plugged')
"模糊搜索的核心逻辑
Plug 'junegunn/fzf'
"vim插件，将fzf的功能集成到vim中，在vim界面中可以效用模糊搜索
Plug 'junegunn/fzf.vim'
call plug#end()
```

:Files - 递归查询当前工作目录下的所有文件（子目录和文件），不会查找文件内容

左侧是查找列表，右侧是查找到的文件的具体内容，上下选中目标文件，Enter即可进入对应目标文件

Ctrl+C退出:Files环境

:Rg 查找文件内容，需要安装sudo apt install ripgrep



:History - 查找最近在vim中编辑过的文件(自动查找.viminfo中的历史记录)

:Maps - 查找映射，配置的各种快捷键



# 工作目录

切换工作目录

:cd {path} 



# 手动更新vimrc

:source %

