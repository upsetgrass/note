相关链接：

https://microsoft.github.io/language-server-protocol/

https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/

https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#languageServerProtocol



# json

json格式仅基于两种结构：

| 结构名称      | JSON 表示    | 概念描述                                                     |
| ------------- | ------------ | ------------------------------------------------------------ |
| 对象 (Object) | { } (大括号) | 名称/值（键/值）对的无序集合。键必须是字符串，值可以是任何合法的 JSON 数据类型。 |
| 数组 (Array)  | [ ] (方括号) | 值的有序列表。值之间用逗号分隔。                             |

json的值：

字符串 (String): 必须用双引号包裹 (`"Hello World"`)。

数值 (Number): 整数或浮点数。

布尔值 (Boolean): `true` 或 `false`。

空值 (Null): `null`。

对象 (Object): `{}`

数组 (Array): `[]`

eg：

```json
{
  "name": "张三",
  "age": 30,
  "isStudent": false,
  "hobbies": ["reading", "hiking", "coding"],
  "address": {
    "city": "北京",
    "zipCode": "100000"
  },
  "score": null
}
```



# Language Server Protocol, LSP

在有lsp协议之前，针对每一种编程语言，想让代码编辑器/IDE提供高级智能功能（补全、转到定义），开发者需要进行大量的重复工作：

针对vscode编写python插件支持，针对vim也需要编写python插件支持，...，各种IDE/编辑器都需要一套类似的逻辑，所以是一种n*m的工作量（n-编译器数量，m-语言数量），而language server protocol的出现，就能够解决这个问题，降低重复，使得IDE/编辑器本身的代码逻辑更加简练。

Language Server（语言服务）提供语言智能的独立进程，包含了如何解析编程语言、查找符号、生成诊断信息的复杂逻辑，关注语言本身、不关注具体开发工具，eg：Pyright、TypeScript Language Server

而LSP这种协议，就是定义了一套基于JSON-RPC的通信规范，标准化了开发工具和语言服务之间传递信息的格式，使得单个语言服务可以在多个开发工具中重复使用，使得工作量下降到了m m-语言数量

语言服务器协议（LSP）定义了一组 JSON-RPC 请求、响应和通知消息，这些消息使用上述基础协议进行交换。



eg：当用户在 VS Code 中按下 `Ctrl + Space` 请求补全时，VS Code通过 LSP 协议向语言服务器发送一个标准的`textDocument/completion`请求。语言服务器处理完后，将结果以标准的 JSON 格式通过 LSP 传回给 VS Code

JSON-PRC（Remote Procedure Call，RPC）：远程过渡调用，简洁的调用远程计算机上运行的函数或过程时



LS项目

https://microsoft.github.io/language-server-protocol/implementors/servers/

![image-20251128155253792](https://raw.githubusercontent.com/upsetgrass/typora_pic_bed/main/image-20251128155253792.png)





